---
interface Props {
  title: string;
  description: string;
  ogTitle?: string;
  ogDescription?: string;
}

const { title, description, ogTitle, ogDescription } = Astro.props;
const siteUrl = 'https://bridgerassociates.com';
const canonicalUrl = new URL(Astro.url.pathname, siteUrl).href;
const currentPath = Astro.url.pathname;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
    <meta name="description" content={description} />
    <link rel="canonical" href={canonicalUrl} />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={canonicalUrl} />
    <meta property="og:title" content={ogTitle || title} />
    <meta property="og:description" content={ogDescription || description} />
    <meta property="og:locale" content="en_US" />

    <!-- Fonts: Playfair Display (headings) + Inter (body) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&display=swap" rel="stylesheet" />

    <!-- Schema.org LegalService -->
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "LegalService",
      "name": "Bridger & Associates",
      "description": "Full-service law firm in Salt Lake City, Utah. Experienced attorneys providing trusted legal counsel in personal injury, family law, business litigation, estate planning, criminal defense, and real estate law.",
      "url": siteUrl,
      "telephone": "+1-801-555-0234",
      "email": "contact@bridgerassociates.com",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "225 S State Street, Suite 1200",
        "addressLocality": "Salt Lake City",
        "addressRegion": "UT",
        "postalCode": "84111",
        "addressCountry": "US"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": 40.7608,
        "longitude": -111.8910
      },
      "areaServed": [
        "Salt Lake City", "Park City", "Provo", "Ogden",
        "West Valley City", "Sandy", "Draper", "Lehi"
      ],
      "openingHoursSpecification": [
        {
          "@type": "OpeningHoursSpecification",
          "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
          "opens": "08:00",
          "closes": "18:00"
        }
      ],
      "priceRange": "$$$",
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "reviewCount": "156"
      }
    })} />
  </head>
  <body class="bg-warm-50 min-h-screen flex flex-col">
    <!-- Top Bar -->
    <div class="bg-navy-950 text-white/70 text-sm py-2.5 border-b border-white/5">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 flex justify-between items-center">
        <span class="hidden sm:inline text-[0.8rem] tracking-wide">225 S State Street, Suite 1200 Â· Salt Lake City, UT 84111</span>
        <span class="sm:hidden text-xs tracking-wide">Salt Lake City, UT</span>
        <a href="tel:+18015550234" class="font-semibold text-white hover:text-gold-400 transition-colors text-[0.8rem] tracking-wide flex items-center gap-1.5">
          <svg class="w-3.5 h-3.5" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z" />
          </svg>
          (801) 555-0234
        </a>
      </div>
    </div>

    <!-- Header -->
    <header class="bg-white/95 backdrop-blur-md shadow-sm sticky top-0 z-50 border-b border-navy-100/50">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 py-3.5 flex items-center justify-between">
        <a href="/" class="flex items-center gap-3 group">
          <div class="w-11 h-11 bg-navy-950 rounded-lg flex items-center justify-center transition-transform group-hover:scale-105">
            <svg class="w-6 h-6 text-gold-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z" />
            </svg>
          </div>
          <div>
            <span class="text-lg font-bold text-navy-950 leading-tight block font-display">Bridger & Associates</span>
            <span class="text-[0.65rem] text-navy-400 leading-tight block tracking-[0.2em] uppercase font-medium">Attorneys at Law</span>
          </div>
        </a>

        <!-- Desktop Nav -->
        <nav class="hidden md:flex items-center gap-1">
          <a href="/" class:list={["px-4 py-2 rounded-lg font-medium transition-all text-[0.9rem]", currentPath === "/" ? "text-navy-950 bg-navy-50" : "text-navy-600 hover:text-navy-950 hover:bg-navy-50/50"]}>Home</a>
          <a href="/practice-areas/" class:list={["px-4 py-2 rounded-lg font-medium transition-all text-[0.9rem]", currentPath.startsWith("/practice-areas") ? "text-navy-950 bg-navy-50" : "text-navy-600 hover:text-navy-950 hover:bg-navy-50/50"]}>Practice Areas</a>
          <a href="/attorneys/" class:list={["px-4 py-2 rounded-lg font-medium transition-all text-[0.9rem]", currentPath.startsWith("/attorneys") ? "text-navy-950 bg-navy-50" : "text-navy-600 hover:text-navy-950 hover:bg-navy-50/50"]}>Our Team</a>
          <a href="/contact/" class:list={["px-4 py-2 rounded-lg font-medium transition-all text-[0.9rem]", currentPath.startsWith("/contact") ? "text-navy-950 bg-navy-50" : "text-navy-600 hover:text-navy-950 hover:bg-navy-50/50"]}>Contact</a>
        </nav>

        <div class="hidden md:flex items-center">
          <a href="/contact/" class="btn-primary !py-2.5 !px-5 !text-[0.85rem]">
            Free Consultation
          </a>
        </div>

        <!-- Mobile Menu Button -->
        <button id="mobile-menu-btn" class="md:hidden p-2 text-navy-700 hover:bg-navy-50 rounded-lg transition-colors" aria-label="Open menu">
          <svg id="menu-icon-open" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
          </svg>
          <svg id="menu-icon-close" class="w-6 h-6 hidden" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
          </svg>
        </button>
      </div>

      <!-- Mobile Nav -->
      <div id="mobile-menu" class="hidden md:hidden border-t border-navy-100/50 bg-white">
        <nav class="flex flex-col px-4 sm:px-6 py-4 gap-1">
          <a href="/" class:list={["py-2.5 px-3 rounded-lg font-medium transition-colors", currentPath === "/" ? "text-navy-950 bg-navy-50" : "text-navy-600"]}>Home</a>
          <a href="/practice-areas/" class:list={["py-2.5 px-3 rounded-lg font-medium transition-colors", currentPath.startsWith("/practice-areas") ? "text-navy-950 bg-navy-50" : "text-navy-600"]}>Practice Areas</a>
          <a href="/attorneys/" class:list={["py-2.5 px-3 rounded-lg font-medium transition-colors", currentPath.startsWith("/attorneys") ? "text-navy-950 bg-navy-50" : "text-navy-600"]}>Our Team</a>
          <a href="/contact/" class:list={["py-2.5 px-3 rounded-lg font-medium transition-colors", currentPath.startsWith("/contact") ? "text-navy-950 bg-navy-50" : "text-navy-600"]}>Contact</a>
          <a href="/contact/" class="mt-3 btn-primary !py-3 text-center">
            Free Consultation
          </a>
        </nav>
      </div>
    </header>

    <main class="flex-1">
      <slot />
    </main>

    <!-- Footer -->
    <footer class="bg-navy-950 text-white">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 py-14">
        <div class="grid md:grid-cols-4 gap-10">
          <!-- Firm Info -->
          <div class="md:col-span-1">
            <div class="flex items-center gap-3 mb-5">
              <div class="w-9 h-9 bg-navy-800 rounded-lg flex items-center justify-center">
                <svg class="w-5 h-5 text-gold-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z" />
                </svg>
              </div>
              <span class="font-display text-lg">Bridger & Associates</span>
            </div>
            <p class="text-white/50 text-sm leading-relaxed">
              Trusted legal counsel in Salt Lake City, Utah. Dedicated to achieving the best possible outcomes for our clients since 2005.
            </p>
          </div>

          <!-- Practice Areas -->
          <div>
            <h3 class="font-semibold text-white mb-5 text-sm tracking-wider uppercase">Practice Areas</h3>
            <ul class="space-y-3 text-sm text-white/50">
              <li><a href="/practice-areas/" class="hover:text-gold-400 transition-colors">Personal Injury</a></li>
              <li><a href="/practice-areas/" class="hover:text-gold-400 transition-colors">Family Law</a></li>
              <li><a href="/practice-areas/" class="hover:text-gold-400 transition-colors">Business Litigation</a></li>
              <li><a href="/practice-areas/" class="hover:text-gold-400 transition-colors">Estate Planning</a></li>
              <li><a href="/practice-areas/" class="hover:text-gold-400 transition-colors">Criminal Defense</a></li>
              <li><a href="/practice-areas/" class="hover:text-gold-400 transition-colors">Real Estate Law</a></li>
            </ul>
          </div>

          <!-- Contact Info -->
          <div>
            <h3 class="font-semibold text-white mb-5 text-sm tracking-wider uppercase">Contact</h3>
            <ul class="space-y-3 text-sm text-white/50">
              <li>
                <a href="tel:+18015550234" class="hover:text-gold-400 transition-colors font-semibold text-gold-400">
                  (801) 555-0234
                </a>
              </li>
              <li>
                <a href="mailto:contact@bridgerassociates.com" class="hover:text-gold-400 transition-colors">
                  contact@bridgerassociates.com
                </a>
              </li>
              <li>225 S State Street, Suite 1200</li>
              <li>Salt Lake City, UT 84111</li>
            </ul>
          </div>

          <!-- Hours -->
          <div>
            <h3 class="font-semibold text-white mb-5 text-sm tracking-wider uppercase">Office Hours</h3>
            <ul class="space-y-2.5 text-sm text-white/50">
              <li class="flex justify-between"><span>Mon - Fri</span><span class="text-white/70">8:00 AM - 6:00 PM</span></li>
              <li class="flex justify-between"><span>Saturday</span><span class="text-white/70">By Appointment</span></li>
              <li class="flex justify-between"><span>Sunday</span><span class="text-white/40">Closed</span></li>
              <li class="mt-4 text-gold-400 font-semibold text-xs">
                Evening & weekend appointments available by request
              </li>
            </ul>
          </div>
        </div>

        <div class="border-t border-white/10 mt-12 pt-8 flex flex-col sm:flex-row justify-between items-center gap-4">
          <p class="text-sm text-white/30">&copy; {new Date().getFullYear()} Bridger & Associates. All rights reserved.</p>
          <p class="text-xs text-white/20">This website is for informational purposes only and does not constitute legal advice.</p>
        </div>
      </div>
    </footer>

    <!-- Scroll Reveal Script -->
    <script>
      const btn = document.getElementById('mobile-menu-btn');
      const menu = document.getElementById('mobile-menu');
      const iconOpen = document.getElementById('menu-icon-open');
      const iconClose = document.getElementById('menu-icon-close');
      btn?.addEventListener('click', () => {
        const isHidden = menu?.classList.toggle('hidden');
        iconOpen?.classList.toggle('hidden', !isHidden);
        iconClose?.classList.toggle('hidden', isHidden);
      });

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add('is-visible');
              observer.unobserve(entry.target);
            }
          });
        },
        { threshold: 0.12, rootMargin: '0px 0px -40px 0px' }
      );

      document.querySelectorAll('.reveal, .stagger-children').forEach((el) => {
        observer.observe(el);
      });
    </script>
  </body>
</html>
